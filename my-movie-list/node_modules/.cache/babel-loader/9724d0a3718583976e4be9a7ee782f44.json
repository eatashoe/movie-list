{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { fetchData } from './omdbAPI';\nconst initialState = {\n  value: [],\n  searchValue: '',\n  searchLoaded: false,\n  status: 'idle'\n};\nexport const updateAsync = createAsyncThunk('search/fetchData', async data => {\n  const response = await fetchData(data);\n  return response.json();\n});\nexport const searchSlice = createSlice({\n  name: 'search',\n  initialState,\n  reducers: {\n    update: (state, action) => {},\n    setSearchValue: (state, action) => {\n      state.searchValue = action.payload;\n    },\n    setSearchLoaded: (state, action) => ({ ...state,\n      searchValue: [...state.searchValue.slice(0, state.searchValue.length), action.payload, ...state.searchValue.slice(state.searchValue.length + 1)]\n    })\n  },\n  extraReducers: builder => {\n    builder.addCase(updateAsync.pending, state => {\n      state.status = 'loading';\n    }).addCase(updateAsync.fulfilled, (state, action) => {\n      state.status = 'idle';\n    });\n  }\n});\nexport const {\n  update,\n  setSearchValue,\n  setSearchLoaded\n} = searchSlice.actions;\nexport const selectSearchLoaded = state => state.search.searchLoaded;\nexport const selectSearchValue = state => state.search.searchValue;\nexport default searchSlice.reducer;","map":{"version":3,"sources":["/Users/winston/my-movie-list/src/components/searchSlice.js"],"names":["createAsyncThunk","createSlice","fetchData","initialState","value","searchValue","searchLoaded","status","updateAsync","data","response","json","searchSlice","name","reducers","update","state","action","setSearchValue","payload","setSearchLoaded","slice","length","extraReducers","builder","addCase","pending","fulfilled","actions","selectSearchLoaded","search","selectSearchValue","reducer"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,SAASC,SAAT,QAA0B,WAA1B;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,EADU;AAEjBC,EAAAA,WAAW,EAAE,EAFI;AAGjBC,EAAAA,YAAY,EAAE,KAHG;AAIjBC,EAAAA,MAAM,EAAE;AAJS,CAArB;AAOA,OAAO,MAAMC,WAAW,GAAGR,gBAAgB,CACvC,kBADuC,EAEvC,MAAOS,IAAP,IAAgB;AACZ,QAAMC,QAAQ,GAAG,MAAMR,SAAS,CAACO,IAAD,CAAhC;AACA,SAAOC,QAAQ,CAACC,IAAT,EAAP;AACH,CALsC,CAApC;AAQP,OAAO,MAAMC,WAAW,GAAGX,WAAW,CAAC;AACnCY,EAAAA,IAAI,EAAE,QAD6B;AAEnCV,EAAAA,YAFmC;AAGnCW,EAAAA,QAAQ,EAAE;AACNC,IAAAA,MAAM,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB,CAE1B,CAHK;AAINC,IAAAA,cAAc,EAAE,CAACF,KAAD,EAAOC,MAAP,KAAkB;AAC9BD,MAAAA,KAAK,CAACX,WAAN,GAAoBY,MAAM,CAACE,OAA3B;AACH,KANK;AAONC,IAAAA,eAAe,EAAE,CAACJ,KAAD,EAAQC,MAAR,MAAoB,EACjC,GAAGD,KAD8B;AAEjCX,MAAAA,WAAW,EAAE,CACT,GAAGW,KAAK,CAACX,WAAN,CAAkBgB,KAAlB,CAAwB,CAAxB,EAA0BL,KAAK,CAACX,WAAN,CAAkBiB,MAA5C,CADM,EAETL,MAAM,CAACE,OAFE,EAGT,GAAGH,KAAK,CAACX,WAAN,CAAkBgB,KAAlB,CAAwBL,KAAK,CAACX,WAAN,CAAkBiB,MAAlB,GAAyB,CAAjD,CAHM;AAFoB,KAApB;AAPX,GAHyB;AAmBnCC,EAAAA,aAAa,EAAGC,OAAD,IAAa;AAC1BA,IAAAA,OAAO,CACJC,OADH,CACWjB,WAAW,CAACkB,OADvB,EACiCV,KAAD,IAAW;AACvCA,MAAAA,KAAK,CAACT,MAAN,GAAe,SAAf;AACD,KAHH,EAIGkB,OAJH,CAIWjB,WAAW,CAACmB,SAJvB,EAIkC,CAACX,KAAD,EAAQC,MAAR,KAAmB;AACjDD,MAAAA,KAAK,CAACT,MAAN,GAAe,MAAf;AACD,KANH;AAOD;AA3BkC,CAAD,CAA/B;AA8BP,OAAO,MAAM;AAAEQ,EAAAA,MAAF;AAAUG,EAAAA,cAAV;AAA0BE,EAAAA;AAA1B,IAA6CR,WAAW,CAACgB,OAA/D;AAEP,OAAO,MAAMC,kBAAkB,GAAIb,KAAD,IAAWA,KAAK,CAACc,MAAN,CAAaxB,YAAnD;AACP,OAAO,MAAMyB,iBAAiB,GAAIf,KAAD,IAAWA,KAAK,CAACc,MAAN,CAAazB,WAAlD;AAEP,eAAeO,WAAW,CAACoB,OAA3B","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { fetchData } from './omdbAPI';\n\nconst initialState = {\n    value: [],\n    searchValue: '',\n    searchLoaded: false,\n    status: 'idle'\n};\n\nexport const updateAsync = createAsyncThunk(\n    'search/fetchData',\n    async (data) => {\n        const response = await fetchData(data);\n        return response.json();\n    }\n);\n\nexport const searchSlice = createSlice({\n    name: 'search',\n    initialState,\n    reducers: {\n        update: (state, action) => {\n\n        },\n        setSearchValue: (state,action) => {\n            state.searchValue = action.payload;\n        },\n        setSearchLoaded: (state, action) => ({\n            ...state,\n            searchValue: [\n                ...state.searchValue.slice(0,state.searchValue.length),\n                action.payload,\n                ...state.searchValue.slice(state.searchValue.length+1)\n            ]\n        }),\n    },\n    extraReducers: (builder) => {\n      builder\n        .addCase(updateAsync.pending, (state) => {\n          state.status = 'loading';\n        })\n        .addCase(updateAsync.fulfilled, (state, action) => {\n          state.status = 'idle';\n        });\n    },\n  });\n\nexport const { update, setSearchValue, setSearchLoaded} = searchSlice.actions;\n\nexport const selectSearchLoaded = (state) => state.search.searchLoaded;\nexport const selectSearchValue = (state) => state.search.searchValue;\n\nexport default searchSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}